// SPDX-License-Identifier: (GPL-2.0 or BSD-3-Clause)
/*
 *  Copyright(c) 2018 Broadcom
 */

/dts-v1/;

#define NUM_CRYPTO	32
#define NUM_RAID	0
#define ENABLE_ENET	0
#define ENABLE_MDIO	0
#define ENABLE_USB1	0
#define ENABLE_I2C0	1
#define ENABLE_I2C1	1
#define ENABLE_SSP0	1
#define ENABLE_SSP1	1

#include "../../stingray-board-base.dtsi"

/ {
	model = "Stingray PS225N (BCM958804A8046I)";

	chosen {
		stdout-path = "serial1:115200n8";
	};
};

&sdio0 {
	no-1-8-v;
};

&uart0 {
	status = "okay";
};

&pcie7 {
	msi-map = <0x0000 &gic_its 0x1c00 0x400>;
#if (ENABLE_PAXB_IOMMU == 1)
	iommu-map = <0x0000 &smmu 0x1c00 0x400>;
#endif
};

&ssp0 {
	status = "okay";
	num-cs = <1>;

	spiflash: m25p80@0 {
		#address-cells = <1>;
		#size-cells = <1>;
		compatible = "n25q512a";
		spi-max-frequency = <30000000>;
		reg = <0>;
		spi-cpol;
		spi-cpha;
		pl022,com-mode = <0>;

		partition@0 {
			label = "boot";
			reg = <0x00000000 0x4000000>;
		};
	};
};

&ssp1 {
	status = "okay";
	num-cs = <1>;

	spidev@0 {
		compatible = "spidev";
		spi-max-frequency = <20000000>;
		reg = <0>;
		pl022,com-mode = <0>;
	};
};

&i2c1 {
	bmc@40000035 {
		compatible = "i2c-slave-bmc";
		reg = <0x40000035>;
		/* name of thermal zone */
		bmc-thermal-zone = "ihost0-thermal";
	};
};

